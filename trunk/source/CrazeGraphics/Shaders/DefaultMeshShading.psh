#include "globals.incl"

struct PS_INPUT
{
	float2 uv : TEXCOORD0;
	float3 normal : NORMAL0;
	float4 pos : SV_POSITION;
};

Texture2D Decal : register(t0);

float4 main(PS_INPUT input) : SV_Target
{
	const float4 color = Decal.Sample(Bilinear, input.uv);

	float2 screen = input.pos.xy * InvResolution;

	const float4 lighting = LightAcc.Sample(Point, screen) + float4(AmbientLight, 0.0f);

	return float4((lighting.xyz) * color.xyz/*+ lighting.w*/, 1.0f);
}